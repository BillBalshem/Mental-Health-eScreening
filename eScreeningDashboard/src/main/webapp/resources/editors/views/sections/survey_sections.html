<!-- The dnd-list directive allows to drop elements into it.
     The dropped data will be added to the referenced list -->
<accordion close-others="false">
    <ul dnd-list="ssRows">
        <li ng-repeat="ssRow in ssRows"
            dnd-draggable="ssRow"
            dnd-moved="ssRows.splice($index, 1)"
            dnd-effect-allowed="move"
            dnd-selected="status.dd.sections.selected = ssRow"
            ng-class="{'selected': status.dd.sections.selected === ssRow}">
            <accordion-group is-open="ssRow.openSection">
                <accordion-heading ng-class="border-bottom-3-gray">
                    <div class="col-md-8">
                        <span class="glyphicon glyphicon-align-justify pull-left margin-right-10 margin-top-10"></span>
                        <h4 class="pull-left ">{{ssRow.name||"Enter New Section"}}</h4>
                    </div>
                    <div class="col-md-4">
                        <div class="pull-right">
                            <button class="btn btn-default btn-xs cursor-pointer margin-top-10"
                                    ng-click="delete($index)" ng-attr-title="Delete {{ssRow.name}}"
                                    title="Delete Psychological Health"><i
                                    class="glyphicon glyphicon-remove-circle red-color"></i> Delete
                            </button>
                        </div>
                        <div class="pull-right">
                            <span class="label label-default pull-right margin-right-10  margin-top-10">{{ssRow.surveys.length}}</span>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                </accordion-heading>

                <div class="row">
                    <div class="col-md-6 form-group">
                        <label>Name</label>
                        <input type="text" ng-model="ssRow.name" class="form-control" placeholder="Name...">
                    </div>
                    <div class="col-md-6 form-group">
                        <label>Description</label>
                        <input type="text" ng-model="ssRow.description" class="form-control"
                               placeholder="Description...">
                    </div>
                </div>
                <h5>
                    <div ng-click="ssRow.openModule=!ssRow.openModule"
                         class="label label-primary margin-right-10 margin-top-35">
                        <i class="glyphicon"
                           ng-class="{'glyphicon-chevron-down': ssRow.openModule, 'glyphicon-chevron-right': !ssRow.openModule}"></i>
                    </div>
                    <strong>Module(s)</strong></h5>
                <div collapse="!ssRow.openModule">
                    <div class="row">
                        <div class="ss col-md-12">
                            <div ng-include="'resources/editors/views/sections/section_modules.html'"></div>
                        </div>
                    </div>
                </div>
            </accordion-group>
        </li>
    </ul>
</accordion>
